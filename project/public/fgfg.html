<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Safety Test</title>
    <link href="https://fonts.googleapis.com/css2?family=Audiowide&family=Google+Sans+Code:ital,wght@0,300..800;1,300..800&family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Roboto:ital,wght@0,100..900;1,100..900&family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&display=swap" rel="stylesheet">
         <link rel="stylesheet" href="colors.css">

</head>
<body>
    <div class="bigdiv">

   
        <div class="mainbox1" style=" position: relative;">
                            <button class="back-btn" type="button" onclick="window.location.href='périodique.html'" style=" cursor: pointer; top: 0; right: 0; position: absolute; border-radius: 20px; padding: 16px 20px; font-size: 15px; font-weight: 700; border: none; text-align: center; outline: none;"><</button>

        <div class="informations">

            <div class="symbole">
<span><h1 id="symbol"></h1></span>
            </div>
            <div class="full-info">
<span class="span1">
   <h2 id="name"></h2>
</span>
<div class="safetyinfo">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="oklch(78.9% 0.154 211.53)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-shield w-5 h-5 text-cyan-400" data-fg-ivr14="179.13:179.14589:/components/safety-panel.tsx:55:17:2396:44:e:Shield::::::Dyv"><path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"></path></svg>
<h3>Safety Information</h3>
</div>
</div>
            </div>
        </div>
        <div class="safety-requist">
            <div class="safetyinfodiv">   
            
<svg class="svgX" xmlns="http://www.w3.org/2000/svg" width="70" height="100" viewBox="0 0 24 24" fill="none" stroke="red" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-x w-12 h-12 text-red-400 flex-shrink-0" data-fg-ivr23="179.13:179.14589:/components/safety-panel.tsx:71:17:3079:60:e:XCircle::::::TNI"><circle cx="12" cy="12" r="10"></circle><path d="m15 9-6 6"></path><path d="m9 9 6 6"></path></svg>
             <div class="info">
                <div class="kindodsafety">
                    <h2></h2>
                    <span></span>
                </div>
                
                </div>
             </div>   

            </div>
               <div class="divfortestinglocation">
                <div class="safesvg">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="oklch(78.9% 0.154 211.53)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-shield w-5 h-5 text-blue-400" data-fg-ivr40="179.13:179.14589:/components/safety-panel.tsx:105:15:4898:44:e:Shield::::::Dyv"><path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"></path></svg>
            <h3>Safe Testing Locations</h3>
        </div>
        <div class="Locations">

        </div>
        </div>
        <div class="section-safetyPrecautions">
            <div class="safesvg">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ff8904" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-triangle-alert w-5 h-5 text-orange-400" data-fg-ivr51="179.13:179.14589:/components/safety-panel.tsx:121:15:5771:53:e:AlertTriangle::::::BaXk"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"></path><path d="M12 9v4"></path><path d="M12 17h.01"></path></svg>
<h3>Safety Precautions</h3>
            </div>
           <ol class="countersafety">
  
           </ol>
        </div>
        <div class="envirement-impact">
            <div class="safesvg">
 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#05df72
" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-leaf w-5 h-5 text-green-400" data-fg-ivr63="179.13:179.14589:/components/safety-panel.tsx:139:15:6767:43:e:Leaf::::::BDY4"><path d="M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z"></path><path d="M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"></path></svg>
<h3>Environmental Impact</h3>
            </div>
            <div class="impactinfo">
                <div class="div-impact">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#05df72
" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-recycle w-5 h-5 mb-2 text-green-400" data-fg-ivr67="179.13:179.14589:/components/safety-panel.tsx:145:17:7087:116:e:Recycle::::::crL"><path d="M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5"></path><path d="M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12"></path><path d="m14 16-3 3 3 3"></path><path d="M8.293 13.596 7.196 9.5 3.1 10.598"></path><path d="m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843"></path><path d="m13.378 9.633 4.096 1.098 1.097-4.096"></path></svg>
                    <div class="text">Recyclable</div>
                    <div></div>
                </div>
                <div class="div-impact">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#fdc700
" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-droplet w-5 h-5 mb-2 text-yellow-400" data-fg-ivr73="179.13:179.14589:/components/safety-panel.tsx:158:17:7766:96:e:Droplet::::::Pq2"><path d="M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z"></path></svg>
<div class="text">Toxicity</div>
<div class="unique-text"></div>
                </div>
                <div class="div-impact">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#05df72
" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-trending-up w-5 h-5 mb-2 text-green-400" data-fg-ivr79="179.13:179.14589:/components/safety-panel.tsx:168:17:8334:127:e:TrendingUp::::::D6b0"><polyline points="22 7 13.5 15.5 8.5 10.5 2 17"></polyline><polyline points="16 7 22 7 22 13"></polyline></svg>
<div class="text">Bioaccumulation</div>
<div></div>
                </div>
                <div class="div-impact">
                   <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#51a2ff
" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-leaf w-5 h-5 mb-2 text-blue-400" data-fg-ivr85="179.13:179.14589:/components/safety-panel.tsx:181:17:9029:47:e:Leaf::::::BDY4"><path d="M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z"></path><path d="M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"></path></svg>
                   <div class="text">CO₂ Footprint</div>
                   <div></div>
                    
                </div>
            </div>
                <div class="impactenvirement-info"></div>
        </div>
        <div class="compare-div">
<h3 class="safesvg">Compare with Another Element</h3>
<div style="text-align: center; margin: 20px;">
    <button class="comparebtn" id="compareBtn">
        Compare with another element 
    </button>
</div>

<div id="compareModal" style="display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); overflow-y: auto; padding: 20px; box-sizing: border-box;">
    <div style="max-width: 800px; margin: auto; background: #1a1a1a; border-radius: 20px; padding: 30px; border: 1px solid #333;">
        <span id="closeModal" style="float: right; cursor: pointer; font-size: 24px;">&times;</span>
        <h2 style="color: #51a2ff;">Select Element to Compare</h2>
        
        <input type="text" id="elementSearch" placeholder="Search by name or symbol..." style="width: 100%; padding: 12px; border-radius: 10px; border: 1px solid #444; background: #000; color: white; margin-bottom: 20px;">
        
        <div id="searchResults" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); gap: 10px; max-height: 200px; overflow-y: auto; margin-bottom: 30px;">
            </div>

        <div id="comparisonArea" style="display: flex; gap: 20px; flex-wrap: wrap;">
            </div>
    </div>
    
</div>

        </div>
        
        </div>
     
    <style>
            .comparebtn{
                        border: solid 1px #0447ff;
  font-family: "Roboto", sans-serif;
  justify-content: center;
  display: flex;
  align-items: center;
  background-color: #6d88ff36;
  width: 90%;
  cursor: pointer;
  padding: 10px 0;
  justify-self: center;
  margin: 20px;
  border-radius: 15px;
  font-weight: 900;
  font-size: 16px;
  color: white;
  gap: 10px;
  translate: all 0.5s ease;
        }
           .comparebtn:hover{
              transform: scale(1.05);
  translate: all 0.6s ease;

        }
        .back-btn{
            background-color: rgb(0, 0, 0); transition: all 0.7s ease;
            color: wheat;
        }
        .back-btn:hover{
  color: red;
  transition: all 0.9s ease;

        }
.mainbox1.noble-gas .back-btn:hover { 
    background-color: #caffbfaf; 
    color: #000; 
}

.mainbox1.alkali-metal .back-btn:hover { 
    background-color: #ffd6a5af; 
    color: #000; 
}

.mainbox1.nonmetal .back-btn:hover { 
    background-color: #a2d2ffaf; 
    color: #000; 
}

.mainbox1.transition-metal .back-btn:hover { 
    background-color: #d8e2dcaf; 
    color: #000; 
}

.mainbox1.alkaline-earth .back-btn:hover { 
    background-color: #ffadad9f; 
    color: #000; 
}

.mainbox1.halogen .back-btn:hover { 
    background-color: #beb2ffa4; 
    color: #000; 
}

.mainbox1.metalloid .back-btn:hover { 
    background-color: #b6fcd1c0; 
    color: #000; 
}

.mainbox1.post-transition .back-btn:hover { 
    background-color: #f0f032a2; 
    color: #000; 
}

.mainbox1.lanthanide .back-btn:hover { 
    background-color: #53ebffaf; 
    color: #000; 
}
        .compare-div{
                          border: rgba(194, 194, 255, 0.425) 1px solid;

            margin-top: 30px;
            padding: 30px 30px 0 30px;
            border-radius: 20px;
        }
       
.impactenvirement-info{
    margin-top: 25px;
}
       
        .text{
            color: rgba(190, 190, 190, 0.712);
        }
        .div-impact{
flex: 1;
padding: 10px;
border-radius: 15px;
gap: 10px;
              border: rgba(194, 194, 255, 0.425) 1px solid;

        }
        .div-impact div{
            margin-bottom: 5px;
        }
        .impactinfo{
            display: flex;
            flex-direction: row;
            gap: 30px;
            flex-wrap: wrap;
        }
        .envirement-impact{
            margin-top: 30px;
            border-radius: 20px;
            padding: 30px;
                          border: 1px solid green;
                          background-color: #2b80ff31
;

        }
               html, body{
padding: 0;            
height: auto;
            margin: 0;
                        color: white;
                        background-color: black;

        }
        body{
                          padding: 10px 50px 50px 50px;
                          overflow-x: hidden;
        }
        .bigdiv{
            border-radius: 20px;
              font-family: "Roboto", sans-serif;
              border: rgba(194, 194, 255, 0.425) 1px solid;
              height: 100%;
              padding: 30px;
        }
                .mainbox1{
            min-height: 10em;
border-top-right-radius: 20px;
border-top-left-radius: 20px;
border-bottom: transparent 2px solid;
            align-items: center;
            display: flex;
            max-width: 100%;
            padding: 0 30px 0 30px;
            
        }
          .informations{
            flex-direction: row;
            display: flex;
            max-width: 100%;
            height: auto;
                        gap: 25px;
                       box-sizing: border-box;
                                   flex-wrap: wrap;

        }
        .symbole{
              border: rgba(194, 194, 255, 0.425) 1px solid;

width: max-content;
padding: 14px 18px;
margin: 20px 10px;
            display: flex;
border-radius: 15px;
            font-family: "Audiowide", sans-serif;

        }
         .symbole span{
            text-align: center;
            display: flex;
            font-size: larger;
            
        }
       h1{
          color: rgb(255, 255, 255);
          margin: auto;
            font-family: "Audiowide", sans-serif;
  font-weight: 400;
  font-style: normal;

        }     .full-info{
             flex-direction: column;
             display: flex;
 }
        .span1 h2{
margin: 15px 0px;
    }
    span{
        width: max-content;
    }
    .safetyinfo{
        display: flex;
        flex-direction: row;
        align-items: center;
        gap: 10px;
    }

.safetyinfo h3{
    color: oklch(78.9% 0.154 211.53);
}
.safety-requist{
    margin: 30px 0;
    padding: 30px 10px 30px 30px;
    border-radius: 20px;
    background-color: rgba(255, 166, 0, 0.322);
    border: orange 1px solid;
    box-sizing: border-box;
    max-height: 50%;
}
.safetyinfodiv{
    display: flex;
    gap: 40px;
            box-sizing: border-box;
flex-wrap: wrap;
}

.kindodsafety{
display: flex;
margin-bottom: 15px;

}
.kindodsafety span{
    text-transform: uppercase;
    background-color: #f0b00091;
    border-radius: 20px;
    padding: 5px 10px;
    text-align: center;
    margin-left: 30px;

}
.kindodsafety h2{
    margin: 0;
}
.advice{
    align-items: center;
    display: flex;
    gap: 10px;
    color: rgba(230, 230, 230, 0.815);
    margin-bottom: 10px;
    flex-wrap: wrap;
}
.svgX{
   height: 70px;
    flex-shrink: 0;
}


.divfortestinglocation{
    border-radius: 20px;
    padding:30px;
                  border: rgba(194, 194, 255, 0.425) 1px solid;

}
.safesvg{
    display: flex;
    flex-direction: row;
    text-align: center;
    align-items: center;
    gap: 10px;
                font-family: "Audiowide", sans-serif;

}
.Locations{
    grid-template-columns:repeat(2, 1fr);
    display: grid;
gap: 15px;
}
@media (max-width: 700px) {
  body{
padding: 0;
  }
  .Locations{
        grid-template-columns:repeat(1, 1fr);

  }
  .kindodsafety{
flex-direction: column;
gap: 15px;

  }
  .kindodsafety span{
    margin: 0;
  }
  .safetyinfodiv{
    flex-direction: column;
    flex-wrap: nowrap;
  }
}
.Locations div{
justify-content: center;display: flex;
gap: 15px;
flex-direction: column;
padding: 15px;
border-radius: 15px;
              border: rgba(194, 194, 255, 0.425) 1px solid;

}
svg{
    flex-shrink: 0;
}
.countersafety{
    list-style-position: inside;  padding: 0px;
    list-style: none;


}
.number {
    background-color: rgba(255, 136, 0, 0.363);
border-radius: 50%;
padding: 3px 9px;
margin: 0 15px 0 0;
color: #ff8800;
}
li{
    color: rgb(196, 196, 196);
    margin: 0 0 20px 0;
    
}
.section-safetyPrecautions{
padding: 30px;
margin-top: 30px;
border-radius: 20px;
              border: rgba(194, 194, 255, 0.425) 1px solid;

}




@keyframes blink {
    0%, 80%, 100% { opacity: 0.2; }
    40% { opacity: 1; }
}
    </style>
    <script src="elements.js"></script>
    <script src="proprities.js"></script>
    <script>
         const params = new URLSearchParams(window.location.search);
const number = parseInt(params.get("number"));
const el = elements.find(e => e.number === number);
    const s = safetyData[number];


if(el){
  document.getElementById("symbol").textContent = el.symbol;
  document.getElementById("name").textContent = el.name;

    document.querySelector(".mainbox1").classList.add(el.group);

};


    if (el) {
        document.getElementById("symbol").textContent = el.symbol;
        document.getElementById("name").textContent = el.name;
        document.querySelector(".mainbox1").classList.add(el.group);

     if (s) {
    const safetyCard = document.querySelector(".safety-requist");
    const safetyTitle = document.querySelector(".kindodsafety h2");
    const safetyLevel = document.querySelector(".kindodsafety span");
    const oldSvg = document.querySelector(".svgX");
    const infoDiv = document.querySelector(".info");

    safetyTitle.textContent = s.status;
    safetyLevel.textContent = s.level;

    document.querySelectorAll(".advice").forEach(a => a.remove());


    if (s.isSafe) { 
        safetyCard.style.backgroundColor = "#00c75833";
        safetyCard.style.borderColor = "#05df72";
        safetyLevel.style.backgroundColor = "#00c75833";
        safetyLevel.style.color = "#05df72";
        
        oldSvg.outerHTML = `<svg class="svgX" xmlns="http://www.w3.org/2000/svg" width="70" height="100" viewBox="0 0 24 24" fill="none" stroke="#05df72" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21.801 10A10 10 0 1 1 17 3.335"></path><path d="m9 11 3 3L22 4"></path></svg>`;
    
    } else if (s.level === "MEDIUM RISK") {
        safetyCard.style.backgroundColor = "rgba(255, 165, 0, 0.2)"; 
        safetyCard.style.borderColor = "orange";
        safetyLevel.style.backgroundColor = "orange";
        safetyLevel.style.color = "white";

        oldSvg.outerHTML = `<svg class="svgX" xmlns="http://www.w3.org/2000/svg" width="70" height="100" viewBox="0 0 24 24" fill="none" stroke="orange" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"></path><path d="M12 9v4"></path><path d="M12 17h.01"></path></svg>`;

    } else {
        safetyCard.style.backgroundColor = "rgba(255, 0, 0, 0.2)";
        safetyCard.style.borderColor = "red";
        safetyLevel.style.backgroundColor = "red";
        safetyLevel.style.color = "white";
        
        oldSvg.outerHTML = `<svg class="svgX" xmlns="http://www.w3.org/2000/svg" width="70" height="100" viewBox="0 0 24 24" fill="none" stroke="red" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="m15 9-6 6"></path><path d="m9 9 6 6"></path></svg>`;
    }

    s.advices.forEach(text => {
        const div = document.createElement("div");
        div.className = "advice";
        div.innerHTML = `
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="yellow" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"></path>
                <path d="M12 9v4"></path>
                <path d="M12 17h.01"></path>
            </svg>
            <span>${text}</span>
        `;
        infoDiv.appendChild(div);
    });

if (s.locations) {
    const locationsDiv = document.querySelector(".Locations");
    
    locationsDiv.innerHTML = ""; 

    s.locations.forEach(locName => {
        const div = document.createElement("div");
        div.innerHTML = `
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#05df72" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M21.801 10A10 10 0 1 1 17 3.335"></path>
                <path d="m9 11 3 3L22 4"></path>
            </svg>
            <span>${locName}</span>
        `;
        locationsDiv.appendChild(div);
    });
}
}}

if (s.precautions) {
    const precautionsList = document.querySelector(".countersafety");
    precautionsList.innerHTML = ""; 

    s.precautions.forEach((text, index) => {
        const li = document.createElement("li");
        li.innerHTML = `
            <span class="number">${index + 1}</span>
            <span>${text}</span>
        `;
        precautionsList.appendChild(li);
    });
}
const env = environmentData[number];

if (env) {
    const impactDivs = document.querySelectorAll(".div-impact");
    
    impactDivs[0].querySelector("div:last-child").textContent = env.recyclable;
    impactDivs[1].querySelector(".unique-text").textContent = env.toxicity;
    impactDivs[2].querySelector("div:last-child").textContent = env.bioaccumulation;
    impactDivs[3].querySelector("div:last-child").textContent = env.co2;

    const toxText = impactDivs[1].querySelector(".unique-text");
    if (env.toxicity.toLowerCase() === "high") {
        toxText.style.color = "#ff4d4d"; 
    } else if (env.toxicity.toLowerCase() === "low") {
        toxText.style.color = "#05df72"; 
    } else {
        toxText.style.color = "#fdc700"; 
    }

    const pointsContainer = document.querySelector(".impactenvirement-info");
    pointsContainer.innerHTML = ""; 

    env.points.forEach(pointText => {
        const pointDiv = document.createElement("div");
        pointDiv.style.display = "flex";
        pointDiv.style.alignItems = "center";
        pointDiv.style.gap = "10px";
        pointDiv.style.marginBottom = "10px";
        

        
        pointDiv.innerHTML = `
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#05df72" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z"></path>
                <path d="M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"></path>
            </svg>
            <span style="color: #ccc; font-size: 17px;">${pointText}</span>
        `;
        pointsContainer.appendChild(pointDiv);
    });
}

const modal = document.getElementById("compareModal");
const closeModal = document.getElementById("closeModal");
const compareBtn = document.getElementById("compareBtn");
const searchInput = document.getElementById("elementSearch");
const resultsDiv = document.getElementById("searchResults");
const compareArea = document.getElementById("comparisonArea");

compareBtn.onclick = () => {
    modal.style.display = "block";
    updateComparisonView(null); 
};
closeModal.onclick = () => modal.style.display = "none";

function getPrice(num) {
    const props = allProperties[num];
    if (props) {
        const priceObj = props.find(p => p.title === "Price");
        return priceObj ? priceObj.value : "N/A";
    }
    return "N/A";
}

function createCompareRow(label, value, isStatus = false) {
    let colorStyle = "";
    
    if (isStatus) {
        const valLower = value.toLowerCase();
        
        if (valLower.includes("low") || valLower === "yes") {
            colorStyle = "color: #22c55e;";
        } 
        else if (valLower.includes("medium")) {
            colorStyle = "color: #ff8800;"; 
        }
        else if (valLower.includes("high") || valLower === "no") {
            colorStyle = "color: #ef4444;";
        }
    }
    return `
        <div style="display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid #ffffff10;">
            <span style="color: #94a3b8; font-size: 14px;">${label}</span>
            <span style="font-weight: 500; font-size: 15px; ${colorStyle}">${value}</span>
        </div>
    `;
}

function buildCard(element, safety, env, title) {
    if (!element || !safety || !env) return "";
    
    const elementPrice = getPrice(element.number);

    return `
        <div style="flex: 1; min-width: 280px; background: #0f172a; border: 1px solid #1e293b; border-radius: 16px; padding: 20px;">
            <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 20px;">
                <div style="background: #1e293b; padding: 10px; border-radius: 10px; font-family: 'Audiowide'; color: white; min-width: 45px; text-align: center; border: 1px solid #334155;">
                    ${element.symbol}
                </div>
                <div>
                    <div style="color: #51a2ff; font-size: 11px; font-weight: bold; text-transform: uppercase; letter-spacing: 1px;">${title}</div>
                    <h3 style="margin: 0; color: white; font-size: 18px;">${element.name}</h3>
                </div>
            </div>
            ${createCompareRow("Risk Level", safety.level, true)}
            ${createCompareRow("Toxicity", env.toxicity, true)}
            ${createCompareRow("Recyclable", env.recyclable, true)}
            ${createCompareRow("CO₂ Footprint", env.co2)}
            <div style="display: flex; justify-content: space-between; padding: 12px 0; margin-top: 5px;">
                <span style="color: #51a2ff; font-size: 14px; font-weight: bold;">Price</span>
                <span style="color: #3b82f6; font-weight: bold; font-size: 15px;">${elementPrice}</span>
            </div>
        </div>
    `;
}

function updateComparisonView(secondNum) {
    const env1 = environmentData[number];
    let html = buildCard(el, s, env1, "Current Element");

    if (secondNum) {
        const el2 = elements.find(e => e.number === secondNum);
        const s2 = safetyData[secondNum];
        const env2 = environmentData[secondNum];
        html += buildCard(el2, s2, env2, "Compared Element");
    } else {
        html += `<div style="flex: 1; min-width: 280px; border: 2px dashed #1e293b; border-radius: 16px; display: flex; align-items: center; justify-content: center; color: #475569; text-align: center; padding: 20px;">
            Search for an element to start comparison
        </div>`;
    }
    compareArea.innerHTML = html;
}

searchInput.oninput = () => {
    const val = searchInput.value.toLowerCase();
    resultsDiv.innerHTML = "";
    if (val.length < 1) return;

    const matches = elements.filter(e => 
        e.name.toLowerCase().includes(val) || e.symbol.toLowerCase().includes(val)
    ).slice(0, 5);

    matches.forEach(item => {
        const btn = document.createElement("button");
        btn.textContent = `${item.symbol} - ${item.name}`;
        btn.style = "padding: 10px; cursor: pointer; background: #000; color: white; border: 1px solid #333; border-radius: 8px; text-align: left; font-size: 14px; margin-bottom: 5px;";
        btn.onclick = () => {
            updateComparisonView(item.number);
            resultsDiv.innerHTML = "";
            searchInput.value = item.name;
        };
        resultsDiv.appendChild(btn);
    });
};



    </script>
</body>
</html>